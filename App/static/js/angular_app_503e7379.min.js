'use-strict'
var fontApp=angular.module('fontApp',['ngRoute','ngResource','ngSanitize','fontList','gSpecimen']);fontApp.config(['$routeProvider',function($routeProvider){$routeProvider.when('/',{templateUrl:'/static/partials/fontlist.html',controller:'fontController'}).when('/specimen/:fontid',{templateUrl:'/static/partials/specimen.html',controller:'specimenCtrl'});}]);fontApp.value('defaultPageArgs',{page:0,limit:15,letter:null,});'use-strict'
fontApp.factory('fontFamilies',['$resource','defaultPageArgs',function($resource,defaultPageArgs){return $resource('getfonts',defaultPageArgs,{get:{method:'GET',defaultPageArgs}});}]);fontApp.factory('fontNameSearch',['$resource','defaultPageArgs',function($resource,defaultPageArgs){return $resource('searchFontsByName',defaultPageArgs,{get:{method:'GET',defaultPageArgs}});}]);fontApp.factory('filteredFonts',['$resource','defaultPageArgs',function($resource,defaultPageArgs){var filterParams={'name':'asc','category':null,'weight':null,'style':null,'subset':null,'designer':'asc','license':null};Object.keys(defaultPageArgs).forEach((key)=>filterParams[key]=defaultPageArgs[key]);return $resource('getfilteredfonts',filterParams,{get:{method:'GET',params:filterParams}});}]);fontApp.factory('getSpecimen',['$resource',function($resource){return $resource('getspecimen/:fontid',{fontid:'@fontid'});}]);fontApp.factory('fontlistService',function(){return{};});'use-strict';var fontList=angular.module('fontList',['ngRoute']);fontList.controller('fontController',['$scope','$filter','$anchorScroll','fontFamilies','filteredFonts','fontlistService','fontNameSearch','defaultPageArgs',function($scope,$filter,$anchorScroll,fontFamilies,filteredFonts,fontlistService,fontNameSearch,defaultPageArgs){var updateScope=function(eve){Object.keys(fontlistService).forEach(function(key,ind,arr){if(fontlistService[key]&&!fontlistService[key].call){$scope[key]=fontlistService[key];}else if(!fontlistService[key]){$scope[key]=fontlistService[key];};});};var updateState=function(eve){Object.keys($scope).forEach(function(key,ind,arr){if($scope[key]&&!key.startsWith('$')&&!$scope[key].call){fontlistService[key]=$scope[key];}else if(!$scope[key]){fontlistService[key]=$scope[key];}});};var resetPageArgs=function(reqArgs){if(!$scope.pageArgs){$scope.pageArgs={}};Object.keys($scope.pageArgs).forEach(function(key){if(reqArgs){if(reqArgs.indexOf(key)<0){delete $scope.pageArgs[key];};};});Object.keys(defaultPageArgs).forEach((k)=>$scope.pageArgs[k]=defaultPageArgs[k]);};if(fontlistService.fontlist){if(fontlistService.fontlist.$resolved){updateScope();this.currentFontListSource=fontFamilies;};};if(!$scope.fontlist){resetPageArgs();$scope.fontlist=fontFamilies.get($scope.pageArgs);updateState();};$scope.changePage=function(action){if(action==='next'){$scope.pageArgs.page++;}else if(action==='prev'&&$scope.pageArgs.page){$scope.pageArgs.page--;};if(!this.currentFontListSource){this.currentFontListSource=fontFamilies;};$scope.fontlist=this.currentFontListSource.get($scope.pageArgs);updateState();$anchorScroll(0);};$scope.getFontsByLetter=function(eve){resetPageArgs(['letter']);$scope.pageArgs.letter=eve.target.id;this.currentFontListSource=fontFamilies;$scope.fontlist=fontFamilies.get($scope.pageArgs);updateState();$anchorScroll(0);};$scope.backToStart=function(){if(!this.currentFontListSource){this.currentFontListSource=fontFamilies};$scope.pageArgs.page=0;$scope.fontlist=this.currentFontListSource.get($scope.pageArgs);updateState();$anchorScroll(0);};$scope.clearFilters=function(){resetPageArgs();this.currentFontListSource=fontFamilies;$scope.pageArgs.filtered=false;$scope.fontlist=fontFamilies.get($scope.pageArgs);updateState();$anchorScroll(0);};$scope.getFilteredFontlist=function(eve){resetPageArgs(['name','designer','subset','category','license','weight','style','filtered']);$scope.pageArgs.filtered=true;this.currentFontListSource=filteredFonts;$scope.fontlist=filteredFonts.get($scope.pageArgs);updateState();$anchorScroll(0);};$scope.searchFontsByName=function(){resetPageArgs(['nameSearchTerm']);this.currentFontListSource=fontNameSearch;$scope.fontlist=fontNameSearch.get($scope.pageArgs);updateState();$anchorScroll(0);};}]);'use-strict';var gSpecimen=angular.module('gSpecimen',['ngRoute','ngSanitize','ngResource']);gSpecimen.filter('strReplace',function(){return function(str,substr,newsubstr){var replRe=new RegExp(substr,'g');return str.replace(replRe,newsubstr);};});gSpecimen.controller('specimenCtrl',['$scope','$route','$location','$anchorScroll','$filter','$window','getSpecimen',function($scope,$route,$location,$anchorScroll,$filter,$window,getSpecimen){$scope.chardata=getSpecimen.get($route.current.params);$scope.navVisible=false;$scope.toggleNavVisible=function(eve){$scope.navVisible=!$scope.navVisible;$anchorScroll(0);};$scope.scrollToBlock=function(name){var hash=$filter('strReplace')(name,' ','-');$anchorScroll(hash);$scope.navVisible=false;};$scope.showBackToTop=false;$window.onscroll=function(){if($window.scrollY>800&&!$scope.showBackToTop){$scope.showBackToTop=true;$scope.$apply();}else if($window.scrollY<800&&$scope.showBackToTop){$scope.showBackToTop=false;$scope.$apply();}};$scope.scrollToTop=function(){$scope.showBackToTop=false;$anchorScroll(0);};}]);gSpecimen.directive('lipsum',function(){return{restrict:'E',templateUrl:'/static/partials/lipsum.html'}});gSpecimen.controller('lipsumController',['$scope','$anchorScroll','$filter',function($scope,$anchorScroll,$filter){$scope.lipsumVisible=false;$scope.lipsumMsg='show';$scope.lipsumSize=1;$scope.toggleLipsumVisible=function(eve){$scope.lipsumVisible=!$scope.lipsumVisible;if($scope.lipsumVisible){$scope.lipsumMsg='hide';$anchorScroll(0);}else{$scope.lipsumMsg='show';}};$scope.invertLipsumColors=function(eve){if(!$scope.lipsumColors){$scope.lipsumColors='dark-on-light'}else{$scope.lipsumColors=undefined;};};$scope.resetLipsum=function(eve){$scope.lipsumColors=undefined;$scope.lipsumSize=1;};$scope.$watch('chardata.entities',function(){if($scope.chardata.entities){$scope.uniRangeNames={};$scope.punc={};$scope.chardata.entities.forEach(function(ent){ent.cats.forEach(function(cat){if(cat.name.includes('Letter')&&cat.chars.length>20){$scope.uniRangeNames[ent.name]=true;};if(cat.name.includes('Punctuation')){cat.chars.forEach(function(ch){if(!$scope.punc[ch.block]){$scope.punc[ch.block]=[];};$scope.punc[ch.block].push(ch.cp);});};if(cat.name.includes('Currency')){cat.chars.forEach(function(ch){if(!$scope.punc[ch.block]){$scope.punc[ch.block]=[];};$scope.punc[ch.block].push(ch.cp);});};});});};});}]);